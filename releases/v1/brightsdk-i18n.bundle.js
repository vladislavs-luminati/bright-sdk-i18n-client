!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.BrightSdkI18n=t():e.BrightSdkI18n=t()}(this,function(){return function(){"use strict";var e={d:function(t,n){for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t={};function n(e={}){const t=e&&e.type||"browser";if("browser"===t)return function(e={}){return{load:(t,n={})=>async function(e="./locales",t={}){const n=String(e).replace(/\/$/,""),o=t&&t.manifest?t.manifest:"manifest.json",a=`${n}/${o}`,r=await fetch(a);if(!r.ok)throw new Error(`Failed to fetch manifest: ${a} (${r.status})`);const i=await r.json(),s={};return await Promise.all((i||[]).map(async e=>{try{const t=await fetch(`${n}/${e}`);if(!t.ok)return;s[e.replace(/\.json$/,"")]=await t.json()}catch(e){}})),s}(t||e.dir||"./locales",Object.assign({},e,n))}}(e||{});throw new Error(`Unsupported loader type: ${t}`)}e.d(t,{default:function(){return s}});var o=function(){var e="en",t={},n="en",o={};function a(){o={};var e=t[n]||{};Object.keys(e).forEach(function(t){var n=e[t];"string"==typeof n&&(o[n]=t)})}function r(o,a){var r=t[e]&&t[e][o],i=t[n]&&t[n][o];return function(e,t){return t&&"object"==typeof t?(Object.keys(t).forEach(function(n){var o=new RegExp("\\{"+n+"\\}","g");e=e.replace(o,String(t[n]))}),e):e}(void 0!==r?r:void 0!==i?i:o,a)}return{init:function(o){e=(o=o||{}).locale||e,n=o.defaultLocale||n,t=o.messages||t,a()},t:r,translateValue:function(e){if("string"!=typeof e)return e;var t=o[e];return t?r(t):e},addMessages:function(e,o){t[e]=Object.assign({},t[e]||{},o),e===n&&a()},setLocale:function(t){e=t},getLocale:function(){return e},_getMessages:function(){return t}}}();"undefined"!=typeof window&&(window.__BrightSdkI18nRuntime=o);var a=o;const r={type:"file",dir:"./locales",manifest:"manifest.json"},i="undefined"!=typeof window&&window.__BrightSdkI18nRuntime||a;var s={init:async function(e={}){const{loader:t=r,locale:o="es_ES",defaultLocale:i="en_US"}=e,s=Object.assign(r,t);let c={};try{if(e&&e.messages&&"object"==typeof e.messages)c=e.messages;else{const e=n(s);if(!e||"function"!=typeof e.load)throw new Error("loader does not implement init/load API");c=await e.load(s.dir,s)}}catch(e){throw console.error("Failed to load locales via loader",e),e}const l="undefined"!=typeof window&&window.__BrightSdkI18nRuntime||a||null;if(!l)throw new Error("i18n runtime not available");return l.init({locale:o,defaultLocale:i,messages:c}),console.log("i18n messages loaded",Object.keys(c)),{I18n:l,messages:c}},t:(e,t)=>i?i.t(e,t):e,translateValue:e=>i?i.translateValue(e):e,addMessages:(e,t)=>i?i.addMessages(e,t):null,setLocale:e=>i?i.setLocale(e):null,getLocale:()=>i?i.getLocale():void 0};return t.default}()});