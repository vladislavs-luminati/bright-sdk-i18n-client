!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.BrightSdkI18n=n():e.BrightSdkI18n=n()}(this,function(){return function(){"use strict";var e={d:function(n,t){for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:function(e,n){return Object.prototype.hasOwnProperty.call(e,n)}},n={};function t(e={}){const n=e&&e.type||"browser";if("browser"===n)return function(e={}){return{load:(n,t={})=>async function(e="./locales",n={}){const t=String(e).replace(/\/$/,""),o=n&&n.manifest?n.manifest:"manifest.json",i=`${t}/${o}`,r=await fetch(i);if(!r.ok)throw new Error(`Failed to fetch manifest: ${i} (${r.status})`);const a=await r.json(),s={};return await Promise.all((a||[]).map(async e=>{try{const n=await fetch(`${t}/${e}`);if(!n.ok)return;s[e.replace(/\.json$/,"")]=await n.json()}catch(e){}})),s}(n||e.dir||"./locales",Object.assign({},e,t))}}(e||{});throw new Error(`Unsupported loader type: ${n}`)}e.d(n,{default:function(){return r}});var o=function(){var e="en",n={},t="en",o={};function i(){o={};var e=n[t]||{};Object.keys(e).forEach(function(n){var t=e[n];"string"==typeof t&&(o[t]=n)})}function r(o,i){var r=n[e]&&n[e][o],a=n[t]&&n[t][o];return function(e,n){return n&&"object"==typeof n?(Object.keys(n).forEach(function(t){var o=new RegExp("\\{"+t+"\\}","g");e=e.replace(o,String(n[t]))}),e):e}(void 0!==r?r:void 0!==a?a:o,i)}return{init:function(o){e=(o=o||{}).locale||e,t=o.defaultLocale||t,n=o.messages||n,i()},t:r,translateValue:function(e){if("string"!=typeof e)return e;var n=o[e];return n?r(n):e},addMessages:function(e,o){n[e]=Object.assign({},n[e]||{},o),e===t&&i()},setLocale:function(n){e=n},getLocale:function(){return e},_getMessages:function(){return n}}}();"undefined"!=typeof window&&(window.BrightSdkI18n=o);var i=o,r={init:async function(e={}){const{loader:n={type:"auto",dir:"./locales",manifest:"manifest.json"},locale:o="es_ES",defaultLocale:r="en_US"}=e,a=Object.assign({type:"file",dir:"./locales",manifest:"manifest.json"},n);let s={};try{if(e&&e.messages&&"object"==typeof e.messages)s=e.messages;else{const e=t(a);if(!e||"function"!=typeof e.load)throw new Error("loader does not implement init/load API");s=await e.load(a.dir,a)}}catch(e){throw console.error("Failed to load locales via loader",e),e}let d="undefined"!=typeof window&&window.BrightSdkI18n||null;if(!d){if(d=i||null,!d)throw new Error("i18n runtime not available");"undefined"!=typeof window&&(window.BrightSdkI18n=d)}return d.init({locale:o,defaultLocale:r,messages:s}),console.log("i18n messages loaded",Object.keys(s)),{I18n:d,messages:s}},t:(e,n)=>"undefined"!=typeof window&&window.BrightSdkI18n?window.BrightSdkI18n.t(e,n):e,translateValue:e=>"undefined"!=typeof window&&window.BrightSdkI18n?window.BrightSdkI18n.translateValue(e):e,addMessages:(e,n)=>"undefined"!=typeof window&&window.BrightSdkI18n?window.BrightSdkI18n.addMessages(e,n):null,setLocale:e=>"undefined"!=typeof window&&window.BrightSdkI18n?window.BrightSdkI18n.setLocale(e):null,getLocale:()=>"undefined"!=typeof window&&window.BrightSdkI18n?window.BrightSdkI18n.getLocale():void 0};return n.default}()});